<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Overwatchle</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>	
		
  <style>
  
    @font-face {
		font-family: BigNoodleOblique;
		src: url("BignoodletitlingOblique-BxY5.ttf") format("truetype");
	}
	
    body {
		font-family: BigNoodleOblique;
		font-size: 1.25em;
		background-color: #1a1a1a;
		text-align: center;
		padding: 20px;
		position: relative;
    }
	
	body::before{
		content: "";
		background: linear-gradient(to bottom, rgba(26, 26, 26, 0), #1a1a1a), url("overwatch.jpg");
		background-size: cover;
		background-repeat: no-repeat;
		opacity: 0.5;
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		z-index: -1; 
	}
	
	h1{
		font-weight:normal;
	}
	
	.gameContainer{
		background-color: #43484c;
		color: white;
		padding-top: 20px;
		padding-bottom: 10px;
		width: 600px;
		border: 2px solid white;
		border-radius: 10px;
		justify-self:center;
	}
	
    .hint {
		margin: 10px 0;
		font-size: 18px;
    }
    .input-container {
		margin-top: 20px;
		padding-bottom: 10px;
    }
    input {
		padding: 10px;
		font-size: 20px;
		width: 300px;
		font-family: BigNoodleOblique;
		border-radius: 10px;
    }
	
	input[type=text]:focus{
		outline: none;
	}
	
	.testing{
		border:2px solid black;
	}
    button {
		padding: 10px 15px;
		font-size: 20px;
		cursor: pointer;
		font-family: BigNoodleOblique;
		border: 2px solid white;
		border-radius: 10px;
		background-color: #f99e1a;
    }
    .result {
		margin-top: 20px;
		font-size: 20px;
    }
    .feedback {
		margin-top: 10px;
	}
	
    .guess-history {
		margin-top: 20px;
		text-align: center;
	  
    }
    .guess-entry {
		padding: 10px;
		margin-top: 5px;
		background-color: #43484c;
		color: white;
		border: 1px solid white;
		border-radius: 10px;
		justify-self:center;
		width: 700px;
		font-size: 25px;
    }
	
	.correct-trait{
		color: green;
	}
	
	.incorrect-trait{
		color: red;
	}
  </style>
</head>
<body>
  <div class="gameContainer">	
  <h1>Overwatch Hero Guessing Game</h1>
  <p>Guess the Overwatch hero based on matching traits!</p>

  <div class="input-container">
    <input type="text" id="guess" class="testing" placeholder="Enter your hero guess here" onkeydown="handleKeyDown(event)">
    <button onclick="checkGuess()">Submit</button>
    <button onclick="playAgain()">Play Again</button>
  </div>
  </div>
  <div id="guess-history" class="guess-history"></div>

  <script>
    // Hero data
    // This array contains a list of heroes and their attributes such as name, species, gender, playstyle, and release year.
    const heroes = [
	  { name: "Ana", role: "Support", species: "Human", gender: "Female", compPlaystyle: "Dive", releaseYear: 2016 },
      { name: "Ashe", role: "DPS", species: "Human", gender: "Female", compPlaystyle: "Poke", releaseYear: 2018 },
	  { name: "Baptiste", role: "Support", species: "Human", gender: "Male", compPlaystyle: "Brawl", releaseYear: 2019 },
	  { name: "Bastion", role: "DPS", species: "Omnic", gender: "Male", compPlaystyle: "Brawl", releaseYear: 2016 },
	  { name: "Brigitte", role: "Support", species: "Human", gender: "Female", compPlaystyle: "Dive", releaseYear: 2018 },
	  { name: "Cassidy", role: "DPS", species: "Human", gender: "Male", compPlaystyle: "Brawl", releaseYear: 2016 },
	  { name: "D.Va", role: "Tank", species: "Human", gender: "Female", compPlaystyle: "Dive", releaseYear: 2016 },
	  { name: "Doomfist", role: "Tank", species: "Cyborg", gender: "Male", compPlaystyle: "Dive", releaseYear: 2017 },
	  { name: "Echo", role: "DPS", species: "Omnic", gender: "Female", compPlaystyle: "Dive", releaseYear: 2020 },
	  { name: "Genji", role: "DPS", species: "Cyborg", gender: "Male", compPlaystyle: "Dive", releaseYear: 2016 },
	  { name: "Hanzo", role: "DPS", species: "Human", gender: "Male", compPlaystyle: "Poke", releaseYear: 2016 },
	  { name: "Hazard", role: "Tank", species: "Cyborg", gender: "Male", compPlaystyle: "Dive", releaseYear: 2024 },
	  { name: "Illari", role: "Support", species: "Human", gender: "Female", compPlaystyle: "Poke", releaseYear: 2023 },
	  { name: "Junker Queen", role: "Tank", species: "Human", gender: "Female", compPlaystyle: "Brawl", releaseYear: 2022 },
	  { name: "Junkrat", role: "DPS", species: "Human", gender: "Male", compPlaystyle: "Brawl", releaseYear: 2016 },
	  { name: "Juno", role: "Support", species: "Human", gender: "Female", compPlaystyle: "Brawl", releaseYear: 2024 },
	  { name: "Kiriko", role: "Support", species: "Human", gender: "Female", compPlaystyle: "Dive", releaseYear: 2022 },
	  { name: "Lifeweaver", role: "Support", species: "Human", gender: "Male", compPlaystyle: "Poke", releaseYear: 2023 },
	  { name: "Lucio", role: "Support", species: "Human", gender: "Male", compPlaystyle: "Dive", releaseYear: 2016 },
	  { name: "Mauga", role: "Tank", species: "Cyborg", gender: "Male", compPlaystyle: "Brawl", releaseYear: 2023 },
	  { name: "Mei", role: "DPS", species: "Human", gender: "Female", compPlaystyle: "Brawl", releaseYear: 2016 },
	  { name: "Mercy", role: "Support", species: "Human", gender: "Female", compPlaystyle: "Poke", releaseYear: 2016 },
	  { name: "Moira", role: "Support", species: "Other", gender: "Female", compPlaystyle: "Brawl", releaseYear: 2017 },
	  { name: "Orisa", role: "Tank", species: "Omnic", gender: "Female", compPlaystyle: "Brawl", releaseYear: 2017 },
	  { name: "Pharah", role: "DPS", species: "Human", gender: "Female", compPlaystyle: "Dive", releaseYear: 2016 },
	  { name: "Ramattra", role: "Tank", species: "Omnic", gender: "Male", compPlaystyle: "Brawl", releaseYear: 2022 },
	  { name: "Reaper", role: "DPS", species: "Other", gender: "Male", compPlaystyle: "Dive", releaseYear: 2016 },
	  { name: "Reinhardt", role: "Tank", species: "Human", gender: "Male", compPlaystyle: "Brawl", releaseYear: 2016 },
	  { name: "Roadhog", role: "Tank", species: "Human", gender: "Male", compPlaystyle: "Brawl", releaseYear: 2016 },
	  { name: "Sigma", role: "Tank", species: "Cyborg", gender: "Male", compPlaystyle: "Poke", releaseYear: 2019 },
	  { name: "Sojourn", role: "DPS", species: "Cyborg", gender: "Female", compPlaystyle: "Brawl", releaseYear: 2022 },
	  { name: "Soldier 76", role: "DPS", species: "Cyborg", gender: "Male", compPlaystyle: "Poke", releaseYear: 2016 },
	  { name: "Sombra", role: "DPS", species: "Cyborg", gender: "Female", compPlaystyle: "Dive", releaseYear: 2016 },
	  { name: "Symmetra", role: "DPS", species: "Cyborg", gender: "Female", compPlaystyle: "Brawl", releaseYear: 2016 },
	  { name: "Torbjorn", role: "DPS", species: "Cyborg", gender: "Male", compPlaystyle: "Poke", releaseYear: 2016 },
	  { name: "Tracer", role: "DPS", species: "Cyborg", gender: "Female", compPlaystyle: "Dive", releaseYear: 2016 },
	  { name: "Venture", role: "DPS", species: "Human", gender: "Other", compPlaystyle: "Dive", releaseYear: 2024 },
	  { name: "Widowmaker", role: "DPS", species: "Cyborg", gender: "Female", compPlaystyle: "Poke", releaseYear: 2016 },
	  { name: "Winston", role: "Tank", species: "Animal", gender: "Male", compPlaystyle: "Dive", releaseYear: 2016 },
	  { name: "Wrecking Ball", role: "Tank", species: "Animal", gender: "Male", compPlaystyle: "Dive", releaseYear: 2018 },
	  { name: "Zarya", role: "Tank", species: "Human", gender: "Female", compPlaystyle: "Brawl", releaseYear: 2016 },
	  { name: "Zenyatta", role: "Support", species: "Omnic", gender: "Male", compPlaystyle: "Poke", releaseYear: 2016 },
	  
    ];

    let selectedHero = pickRandomHero();
	let count = 0;
	console.log(selectedHero);

    // Function to pick a random hero from the list
    function pickRandomHero() {
      return heroes[Math.floor(Math.random() * heroes.length)];
    }

    // Check the user's guess
    function checkGuess() {
      count++;
	  const guessInput = document.getElementById("guess").value.trim(); // Retrieve and trim user input
      const guessHistoryContainer = document.getElementById("guess-history"); // Reference the guess history container

      // Find the hero in the list based on the user's guess (case-insensitive)
      const guessedHero = heroes.find(hero => hero.name.toLowerCase() === guessInput.toLowerCase());

      // Create a new div for guess entries and assign it the guess-entry class
      const guessEntry = document.createElement("div");
      guessEntry.classList.add("guess-entry");
	  let test = 0;

      if (!guessedHero) {
        // If the guess does not match any hero, provide an error message
        guessEntry.textContent = `Invalid hero name - Please try again`;
      } else if (guessedHero.name.toLowerCase() === selectedHero.name.toLowerCase()) {
        // If the guess is correct, display success message
        guessEntry.textContent = `Correct! The hero is ${selectedHero.name}. `;
		if (count === 1){
			guessEntry.textContent += ` It took ${count} guess`;
		} else{
			guessEntry.textContent += ` It took ${count} guesses`;
		}
		
        guessEntry.style.color = "#218ffe";
      } else {
        // Provide feedback on matching traits
        let feedback = `${guessedHero.name}'s Matching Traits:`;
        if (guessedHero.species === selectedHero.species) {
          feedback += ` ${guessedHero.species},`;
        }
		
        if (guessedHero.gender === selectedHero.gender) {
          feedback += ` ${guessedHero.gender},`;
          test++;
		}
		if (guessedHero.role === selectedHero.role){
		  feedback += ` ${guessedHero.role},`;
		  test++;
		}
        if (guessedHero.compPlaystyle === selectedHero.compPlaystyle) {
          feedback += ` ${guessedHero.compPlaystyle},`;
          test++;
		}
        if (guessedHero.releaseYear === selectedHero.releaseYear) {
          feedback += ` Release Year (${selectedHero.releaseYear}),`;
		  test++;
        }
		if (test === 0){
		  feedback += " None.";
		}
		
        // Remove the trailing comma if present or indicate no matches
        feedback = feedback.replace(/,$/, " -") || "No matching traits.";
		
		if (guessedHero.releaseYear < selectedHero.releaseYear) {
          feedback += ` The hero's release year is after ${guessedHero.releaseYear}`;
        } else if (guessedHero.releaseYear > selectedHero.releaseYear) {
          feedback += ` The hero's release year is before ${guessedHero.releaseYear}`;
        }
		
        guessEntry.textContent = feedback;
		
      }

      // Add the entry to the guess history container
      guessHistoryContainer.appendChild(guessEntry);

      // Clear the input for the next guess
      document.getElementById("guess").value = "";
	  test = 0;
    }

    // Play again function to reset the game
    function playAgain() {
      selectedHero = pickRandomHero(); // Select a new random hero
	  console.log(selectedHero);
      document.getElementById("guess-history").innerHTML = ""; // Clear the guess history
      document.getElementById("guess").value = ""; // Clear the input field
	  count = 0;
    }
	
	function handleKeyDown(event) {
		if (event.key === "Enter") {
		  checkGuess()
		}
	}
  </script>
</body>
</html>
